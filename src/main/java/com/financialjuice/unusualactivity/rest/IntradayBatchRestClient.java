package com.financialjuice.unusualactivity.rest;

import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.financialjuice.unusualactivity.model.StockData;
import okhttp3.HttpUrl;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.http.ResponseEntity;
import org.springframework.retry.annotation.Backoff;
import org.springframework.retry.annotation.Retryable;
import org.springframework.stereotype.Service;
import org.springframework.web.client.HttpClientErrorException;
import org.springframework.web.client.HttpServerErrorException;
import org.springframework.web.client.RestTemplate;

import java.net.URI;
import java.util.*;

@Service
public class IntradayBatchRestClient {

    private static final Logger log = LoggerFactory.getLogger(IntradayBatchRestClient.class);

    public IntradayBatchRestClient() {
    }

    /**
     * https://api.iextrading.com/1.0/stock/market/batch?symbols=aapl,bp&types=quote,chart&range=1d&last=5
     *
     * @param symbolBatch
     * @return
     */
    private URI getRequestURL(String symbolBatch) {

        return new HttpUrl.Builder()
                .scheme("https")
                .host("api.iextrading.com")
                .addPathSegments("1.0")
                .addPathSegments("stock")
                .addPathSegments("market")
                .addPathSegments("batch")
                .addQueryParameter("symbols", symbolBatch)
                .addQueryParameter("types", "quote")
                .addQueryParameter("range", "1d")
                .addQueryParameter("last", "5")
                .build().uri();
    }

    @Retryable(maxAttempts = 5, value = {RuntimeException.class, HttpServerErrorException.class}, backoff = @Backoff(delay = 2000, multiplier = 2))
    public List<StockData> getIntradayData(String symbolBatch) {
        URI url = getRequestURL(symbolBatch);
        log.debug("Sending HTTP GET Request to URI [{}]", url.toString());

        List<StockData> data = new ArrayList<>();
        RestTemplate restTemplate = new RestTemplate();
        try {
            ResponseEntity<String> response = restTemplate.getForEntity(url, String.class);
            switch (response.getStatusCode().value()) {
                case 200:
                    ObjectMapper mapper = new ObjectMapper();
                    JsonNode root = mapper.readTree(response.getBody());

                    if (!root.isNull()) {
                        log.debug("Response Body as JSON: " + root.toString());

                        Iterator<Map.Entry<String, JsonNode>> elements = root.fields();
                        log.debug("Fetched: [{}] stockdata elements from request", root.size());

                        while (elements.hasNext()) {
                            Map.Entry<String, JsonNode> entry = elements.next();
                            String symbol = entry.getKey();
//                            log.debug("Parsing JSON Response for SymbolData:[{}]", symbol);

                            // Parse child of JSON response
                            JsonNode dataNode_l1 = entry.getValue();
                            JsonNode dataNode_l2 = dataNode_l1.get("quote");

                            //TODO: Do check and use Realtime when market open
                            Date date = new Date();
                            date.setTime(dataNode_l2.get("latestUpdate").asLong());
                            double open = dataNode_l2.get("open").asDouble();
                            double high = dataNode_l2.get("high").asDouble();
                            double low = dataNode_l2.get("low").asDouble();
                            double close = dataNode_l2.get("close").asDouble();
                            long volume = dataNode_l2.get("latestVolume").asLong();

                            data.add(new StockData(date, symbol, open, close, high, low, volume));
                        }

                    } else {
                        log.error("Fetched failed, response body was empty for HTTP request to Url:[{}]", url);
                        log.error("Response Body as JSON: " + root.toString());
                        return null;
                    }
                    return data;

                case 503:
                    throw new RuntimeException("Server Response: " + response.getStatusCode());
                default:
                    throw new IllegalStateException("Server not ready");
            }
        } catch (HttpClientErrorException e) {
            log.error("Fetched failed, response body was empty for HTTP request to Url:[{}]", url);
            log.error("Server Error with no response. Url:[{}] Exception:[{}]", url, e.getMessage());
            return null;
        } catch (Exception e) {
            log.error("Server Error with no response. Url:[{}] Exception:[{}]", url, e.getMessage());
            throw new RuntimeException(e);
        }
    }


    /**
     * https://api.iextrading.com/1.0/stock/market/batch?symbols=A,AA,AABA,AAC,AADR,AAL,AAMC,AAME,AAN,AAOI,AAON,AAP,AAPL,AAT,AAU,AAV,AAWW,AAXJ,AAXN,AB,ABAC,ABAX,ABB,ABBV,ABC,ABCB,ABCD,ABDC,ABE,ABEO,ABEV,ABG,ABIL,ABIO,ABLX,ABM,ABMD,ABR,ABT,ABTX,ABUS,ABX,AC,ACAD,ACBI,ACC,ACCO,ACER,ACET,ACFC,ACGL,ACH,ACHC,ACHN,ACHV,ACIA,ACIM,ACIU,ACIW,ACLS,ACM,ACMR,ACN,ACNB,ACOR,ACP,ACRE,ACRS,ACRX,ACSF,ACST,ACTG,ACU,ACV,ACWI,ACWV,ACWX,ACXM,ACY,ADAP,ADBE,ADC,ADES,ADI,ADM,ADMA,ADMP,ADMS,ADNT,ADOM,ADP,ADRA,ADRD,ADRE,ADRO,ADRU,ADS,ADSK,ADSW,ADT,ADTN,ADUS,ADVM,ADX,ADXS,ADZ,AE,AEE,AEG,AEGN,AEHR,AEIS,AEL,AEM,AEMD,AEO,AEP,AER,AERI,AES,AET,AETI,AEY,AEZS,AFB,AFG,AFH,AFI,AFK,AFL,AFMD,AFSI,AFT,AG,AGA,AGC,AGCO,AGD,AGEN,AGF,AGFS,AGG,AGI,AGII,AGIO,AGLE,AGM,AGM.A,AGN,AGNC,AGO,AGQ,AGR,AGRO,AGRX,AGS,AGTC,AGX,AGYS,AGZ,AHC,AHGP,AHH,AHL,AHP,AHPA,AHPI,AHT,AI,AIA,AIF,AIG,AIHS,AIMC,AIMT,AIN,AINC,AINV,AIPT,AIR,AIRG,AIRI,AIRT,AIT,AIV,AIZ,AJG,AJRD,AJX,AKAM,AKAO,AKBA,AKCA,AKER,AKG,AKO.A,AKO.B,AKP,AKR,AKRX,AKS,AKTS,AKTX,AL,ALB,ALBO,ALCO,ALD,ALDR,ALDX,ALE,ALEX,ALFA,ALG,ALGN,ALGT,ALIM,ALJJ,ALK,ALKS,ALL,ALLE,ALLT,ALLY,ALN,ALNA,ALNY,ALO,ALOG,ALOT,ALPN,ALQA,ALRM,ALRN,ALSK,ALSN,ALT,ALTR,ALV,ALX,ALXN,AM,AMAG,AMAT,AMBA,AMBC,AMBR,AMC,AMCN,AMCX,AMD,AMDA,AME,AMED,AMEH,AMG,AMGN,AMGP,AMH,AMID,AMJ,AMKR,AMLP,AMMA,AMN,AMNB,AMOT,AMOV,AMP,AMPE,AMPH,AMR,AMRB,AMRC,AMRH,AMRK,AMRN,AMRS,AMS,AMSC,AMSF,AMSWA,AMT,AMTD,AMTX,AMWD,AMX,AMZN,AN,ANAB,ANAT,ANCB,ANCX,ANDE,ANDV,ANDX,ANET,ANF,ANFI,ANGI,ANGL,ANGO,ANH,ANIK,ANIP,ANSS,ANTH,ANTM,ANW,ANY,AOA,AOBC,AOD,AOI,AOK,AOM,AON,AOR,AOS,AOSL,AP,APA,APAM,APB,APC,APD,APDN,APEI,APEN,APF,APH,APHB,APLE,APLP,APLS,APO,APOG,APOP,APPF,APPN,APPS,APRI,APRN,APT,APTI,APTO,APTS,APTV,APU,APVO,APWC,AQ,AQB,AQMS,AQN,AQUA,AQXP,AR,ARA,ARAY,ARC,ARCB,ARCC,ARCH,ARCI,ARCO,ARCT,ARCW,ARD,ARDC,ARDM,ARDX,ARE,ARES,AREX,ARGS,ARGX,ARI,ARII,ARKR,ARL,ARLP,ARLZ,ARMK,ARMO,ARNA,ARNC,AROC,AROW,ARQL,ARR,ARRS,ARRY,ARTNA,ARTW,ARTX,ARW,ARWR,ASA,ASB,ASC,ASCMA,ASEA,ASFI,ASG,ASGN,ASH,ASIX,ASM,ASMB,ASML,ASNA,ASND,ASNS,ASPN,ASPS,ASPU,ASR,ASRV,AST,ASTC,ASTE,ASUR,ASV,ASX,ASYS,AT,ATAC,ATAI,ATAX,ATEC,ATEN,ATGE,ATH,ATHM,ATHN,ATHX,ATI,ATKR,ATLC,ATLO,ATNI,ATNM,ATNX,ATO,ATOM,ATOS,ATR,ATRA,ATRC,ATRI,ATRO,ATRS,ATSG,ATTO,ATTU,ATU,ATUS,ATV,ATVI,ATXI,AU,AUBN,AUDC,AUG,AUMN,AUO,AUPH,AUSE,AUTO,AUY,AVA,AVAL,AVAV,AVB,AVD,AVDL,AVEO,AVGO,AVGR,AVH,AVHI,AVID,AVK,AVNW,AVP,AVT,AVX,AVXL,AVXS,AVY,AVYA,AWF,AWI,AWK,AWP,AWR,AWRE,AWX,AXAS,AXDX,AXE,AXGN,AXJL,AXL,AXON,AXP,AXR,AXS,AXSM,AXTA,AXTI,AXU,AY,AYI,AYR,AYT,AYTU,AYX,AZN,AZO,AZPN,AZRE,AZRX,AZUL,AZZ,B,BA,BAB,BABA,BABY,BAC,BAF,BAH,BAK,BAL,BAM,BANC,BAND,BANF,BANR,BANX,BAP,BAS,BASI,BATRA,BATRK,BAX,BB,BBBY,BBD,BBDO,BBF,BBGI,BBH,BBK,BBL,BBN,BBOX,BBRG,BBSI,BBT,BBU,BBVA,BBW,BBX,BBY,BC,BCAC,BCBP,BCC,BCE,BCEI,BCH,BCLI,BCM,BCO,BCOM,BCOR,BCOV,BCPC,BCRH,BCRX,BCS,BCTF,BCV,BCX,BDC,BDCL,BDCS,BDD,BDGE,BDJ,BDL,BDN,BDR,BDSI,BDX,BEAT,BECN,BEDU,BEL,BELFA,BELFB,BEN,BEP,BERY,BF.A,BF.B,BFAM,BFIN,BFK,BFO,BFR,BFRA,BFS,BFY,BFZ,BG,BGB,BGC,BGCP,BGFV,BGG,BGH,BGI,BGIO,BGNE,BGR,BGS,BGSF,BGT,BGX,BGY,BH,BHAC,BHB,BHBK,BHE,BHF,BHGE,BHK,BHLB,BHP,BHV,BHVN,BIB,BICK,BID,BIDU,BIF,BIG,BIIB,BIL,BILI,BIO,BIO.B,BIOC,BIOL,BIOS,BIP,BIS,BIT,BITA,BIV,BJK,BJRI,BJZ,BK,BKCC,BKD,BKE,BKEP,BKF,BKH,BKI,BKJ,BKK,BKLN,BKN,BKNG,BKS,BKSC,BKT,BKU,BKYI,BL,BLBD,BLCM,BLD,BLDP,BLDR,BLE,BLFS,BLH,BLIN,BLJ,BLK,BLKB,BLL,BLMN,BLMT,BLNG,BLNK,BLPH,BLRX,BLUE,BLV,BLW,BLX,BMA,BMCH,BME,BMI,BMO,BMRA,BMRC,BMRN,BMS,BMTC,BMY,BNCL,BND,BNED,BNFT,BNJ,BNO,BNS,BNSO,BNTC,BNY,BOCH,BOE,BOFI,BOH,BOIL,BOJA,BOKF,BOLD,BOM,BOMN,BOND,BOOM,BOOT,BORN,BOS,BOSC,BOTJ,BOX,BOXL,BP,BPFH,BPI,BPK,BPL,BPMC,BPMP,BPMX,BPOP,BPT,BPTH,BPY,BQH,BR,BRAC,BRC,BREW,BRF,BRFS,BRG,BRID,BRK.A,BRK.B,BRKL,BRKR,BRKS,BRN,BRO,BRPA,BRQS,BRS,BRSS,BRT,BRX,BSAC,BSBR,BSCI,BSCJ,BSCK,BSD,BSE,BSET,BSF,BSIG,BSJI,BSL,BSM,BSMX,BSPM,BSQR,BSRR,BST,BSTC,BSTI,BSV,BSX,BT,BTA,BTAI,BTAL,BTE,BTG,BTI,BTN,BTO,BTT,BTU,BTX,BTZ,BUD,BUFF,BUI,BUR,BURG,BURL,BUSE,BVN,BVSN,BVX,BVXV,BW,BWA,BWB,BWEN,BWFG,BWG,BWINA,BWINB,BWL.A,BWP,BWV,BWX,BWXT,BWZ,BX,BXC,BXE,BXG,BXMT,BXMX,BXP,BXS,BY,BYBK,BYD,BYFC,BYM,BYSI,BZF,BZH,BZM,BZQ,BZUN,C,CA,CAAP,CAAS,CABO,CAC,CACC,CACI,CADC,CADE,CAE,CAF,CAFD,CAFE,CAG,CAH,CAI,CAJ,CAKE,CAL,CALA,CALD,CALI,CALL,CALM,CALX,CAMP,CAMT,CANE,CANF,CAPL,CAPR,CAR,CARA,CARB,CARG,CARO,CARS,CART,CARV,CARZ,CASA,CASH,CASI,CASM,CASS,CASY,CAT,CATB,CATC,CATM,CATO,CATS,CATY,CAVM,CAW,CB,CBA,CBAK,CBAN,CBAY,CBB,CBD,CBFV,CBH,CBI,CBIO,CBK,CBL,CBLI,CBM,CBMG,CBND,CBOE,CBPO,CBPX,CBRE,CBRL,CBS,CBS.A,CBSH,CBT,CBTX,CBU,CBZ,CC,CCA,CCBG,CCCL,CCCR,CCD,CCE,CCF,CCI,CCIH,CCJ,CCK,CCL,CCLP,CCM,CCMP,CCNE,CCO,CCOI,CCR,CCRC,CCRN,CCS,CCT,CCU,CCXI,CDE,CDEV,CDK,CDLX,CDMO,CDNA,CDNS,CDOR,CDR,CDTI,CDTX,CDW,CDXC,CDXS,CDZI,CE,CEA,CECE,CECO,CEE,CEF,CEI,CEIX,CEL,CELC,CELG,CELH,CELP,CEM,CEMI,CEN,CENT,CENTA,CENX,CEO,CEPU,CEQP,CERC,CERN,CERS,CET,CETV,CETX,CEV,CEVA,CEW,CF,CFBI,CFBK,CFFI,CFFN,CFG,CFMS,CFR,CFRX,CFX,CG,CGA,CGBD,CGEN,CGG,CGI,CGIX,CGNT,CGNX,CGO,CGW,CH,CHA,CHCI,CHCO,CHCT,CHD,CHDN,CHE,CHEF,CHEK,CHEP,CHFC,CHFN,CHFS,CHGG,CHH,CHI,CHIE,CHII,CHIQ,CHIX,CHK,CHKE,CHKP,CHKR,CHL,CHMA,CHMG,CHMI,CHN,CHNR,CHOC,CHRS,CHRW,CHS,CHSP,CHT,CHTR,CHU,CHUBA,CHUBK,CHUY,CHW,CHY,CI,CIA,CIB,CIC,CIDM,CIEN,CIF,CIFS,CIG,CIG.C,CIGI,CII,CIK,CIM,CINF,CINR,CIO,CIR,CISN,CIT,CIU,CIVB,CIVI,CIX,CIZN,CJ,CJJD,CJNK,CKH,CKPT,CKX,CL,CLAR,CLB,CLBS,CLCT,CLD,CLDC,CLDR,CLDT,CLDX,CLF,CLFD,CLGN,CLGX,CLH,CLI,CLIR,CLLS,CLM,CLMT,CLNC,CLNE,CLNS,CLPR,CLR,CLRB,CLRO,CLS,CLSD,CLSN,CLUB,CLVS,CLW,CLWT,CLX,CLXT,CLY,CM,CMA,CMBS,CMC,CMCL,CMCM,CMCO,CMCSA,CMCT,CMD,CME,CMF,CMFN,CMG,CMI,CMO,CMP,CMPR,CMRE,CMRX,CMS,CMSS,CMT,CMTA,CMTL,CMU,CNA,CNAC,CNAT,CNBKA,CNC,CNCE,CNDT,CNET,CNFR,CNHI,CNI,CNIT,CNK,CNMD,CNNE,CNO,CNOB,CNP,CNQ,CNS,CNSL,CNTF,CNTY,CNX,CNXM,CNXN,CNXT,CNY,CO,COBZ,COCP,CODA,CODI,CODX,COE,COF,COG,COGT,COHN,COHR,COHU,COKE,COL,COLB,COLD,COLL,COLM,COMM,CONE,CONN,COO,COOL,COP,COR,CORE,CORI,CORN,CORP,CORR,CORT,COST,COT,COTV,COTY,COUP,COW,COWN,CP,CPA,CPAC,CPAH,CPB,CPE,CPER,CPF,CPG,CPHC,CPHI,CPI,CPIX,CPK,CPL,CPLA,CPLP,CPRT,CPRX,CPS,CPSH,CPSI,CPSS,CPST,CPT,CPTA,CQH,CQP,CQQQ,CR,CRAI,CRAY,CRBP,CRC,CRCM,CRD.A,CRD.B,CRED,CREE,CREG,CRESY,CRF,CRH,CRHM,CRI,CRIS,CRK,CRL,CRM,CRMD,CRME,CRMT,CRNT,CROC,CRON,CROP,CROX,CRR,CRS,CRSP,CRT,CRTO,CRUS,CRVL,CRVS,CRWS,CRY,CRZO,CS,CSBR,CSCO,CSD,CSFL,CSGP,CSGS,CSII,CSIQ,CSJ,CSL,CSLT,CSM,CSOD,CSPI,CSQ,CSRA,CSS,CSSE,CSTE,CSTM,CSTR,CSU,CSV,CSWC,CSWI,CSX,CTAS,CTB,CTBI,CTEK,CTG,CTHR,CTIB,CTIC,CTL,CTLT,CTMX,CTNN,CTO,CTR,CTRE,CTRL,CTRN,CTRP,CTRV,CTS,CTSH,CTSO,CTT,CTWS,CTX,CTXR,CTXS,CUB,CUBA,CUBE,CUBI,CUE,CUI,CUK,CULP,CUO,CUPM,CUR,CURE,CURO,CUT,CUTR,CUZ,CVA,CVBF,CVCO,CVCY,CVE,CVEO,CVG,CVGI,CVGW,CVI,CVLT,CVLY,CVM,CVNA,CVON,CVR,CVRR,CVRS,CVS,CVTI,CVU,CVV,CVX,CVY,CW,CWAY,CWB,CWBC,CWBR,CWCO,CWH,CWI,CWST,CWT,CX,CXDC,CXE,CXH,CXO,CXP,CXRX,CXSE,CXW,CY,CYAD,CYAN,CYB,CYBE,CYBR,CYCC,CYD,CYH,CYOU,CYRN,CYRX,CYS,CYTK,CYTR,CYTX,CZA,CZFC,CZNC,CZR,CZWI,CZZ,D,DAC,DAG,DAIO,DAKT,DAL,DAN,DAR,DARE,DATA,DAVE,DB,DBA,DBB,DBBR,DBC,DBD,DBE,DBEF,DBEM,DBGR,DBL,DBO,DBP,DBS,DBV,DBVT,DBX,DCAR,DCI,DCIX,DCM,DCNG,DCO,DCOM,DCP,DCPH,DCT,DDD,DDE,DDF,DDG,DDM,DDP,DDR,DDS,DE,DEA,DECK,DEE,DEF,DEI,DELT,DEM,DENN,DEO,DEPO,DERM,DES,DESP,DEST,DEW,DEX,DF,DFBG,DFE,DFFN,DFIN,DFJ,DFP,DFRG,DFS,DFVL,DFVS,DG,DGICA,DGICB,DGII,DGL,DGLY,DGP,DGS,DGSE,DGT,DGX,DGZ,DHCP,DHF,DHI,DHIL,DHR,DHS,DHT,DHX,DHXM,DHY,DIA,DIAX,DIG,DIM,DIN,DIOD,DIRT,DIS,DISCA,DISCB,DISCK,DISH,DIT,DJCI,DJCO,DJP,DK,DKL,DKS,DL,DLA,DLB,DLBL,DLBS,DLHC,DLN,DLNG,DLPH,DLPN,DLR,DLS,DLTH,DLTR,DLX,DM,DMB,DMF,DMLP,DMO,DMPI,DMRC,DNB,DNBF,DNI,DNJR,DNKN,DNL,DNLI,DNN,DNO,DNOW,DNP,DNR,DO,DOC,DOD,DOG,DOGZ,DOL,DON,DOO,DOOR,DORM,DOTA,DOV,DOVA,DOX,DPG,DPLO,DPS,DPW,DPZ,DQ,DRAD,DRD,DRE,DRH,DRI,DRIO,DRN,DRNA,DRQ,DRR,DRRX,DRW,DRYS,DS,DSE,DSGX,DSI,DSKE,DSL,DSM,DSPG,DSS,DST,DSU,DSUM,DSW,DSWL,DSX,DTD,DTE,DTEA,DTF,DTH,DTN,DTO,DTRM,DTUL,DTUS,DTYL,DTYS,DUC,DUK,DVA,DVAX,DVCR,DVD,DVMT,DVN,DVY,DVYA,DVYE,DWAQ,DWCH,DWDP,DWM,DWPP,DWSN,DWX,DX,DXC,DXCM,DXD,DXF,DXJ,DXLG,DXPE,DXR,DXYN,DY,DYN,DYNT,DYSL,DYY,DZK,DZSI,DZZ,E,EA,EACQ,EAD,EAGL,EARN,EARS,EAST,EAT,EBAY,EBF,EBIO,EBIX,EBMT,EBND,EBR,EBR.B,EBS,EBSB,EBTC,EC,ECA,ECC,ECF,ECH,ECHO,ECL,ECNS,ECOL,ECOM,ECON,ECPG,ECR,ECT,ECYT,ED,EDAP,EDD,EDF,EDGE,EDGW,EDI,EDIT,EDIV,EDN,EDR,EDU,EDUC,EDV,EE,EEA,EEB,EEFT,EEH,EEI,EELV,EEM,EEMA,EEMO,EEMS,EEMV,EEP,EEQ,EES,EET,EEV,EEX,EFA,EFAV,EFBI,EFC,EFF,EFG,EFII,EFL,EFO,EFOI,EFR,EFSC,EFT,EFV,EFX,EFZ,EGAN,EGBN,EGC,EGF,EGHT,EGI,EGIF,EGL,EGLE,EGLT,EGN,EGO,EGOV,EGP,EGRX,EGY,EHC,EHI,EHIC,EHT,EHTH,EIA,EIDO,EIG,EIGI,EIGR,EIM,EIO,EIP,EIRL,EIS,EIV,EIX,EKSO,EL,ELD,ELEC,ELECU,ELF,ELGX,ELLI,ELLO,ELMD,ELON,ELP,ELS,ELSE,ELTK,ELVT,ELY,EMAG,EMAN,EMB,EMCB,EMCF,EMCI,EMD,EME,EMES,EMF,EMI,EMIF,EMITF,EMJ,EMKR,EML,EMLC,EMLP,EMMS,EMN,EMO,EMR,EMX,ENB,ENBL,ENDP,ENFC,ENG,ENIA,ENIC,ENLC,ENLK,ENPH,ENR,ENS,ENSG,ENSV,ENT,ENTA,ENTG,ENV,ENVA,ENX,ENY,ENZ,ENZL,EOCC,EOD,EOG,EOI,EOLS,EOS,EOT,EPAM,EPAY,EPC,EPD,EPE,EPHE,EPI,EPIX,EPM,EPOL,EPP,EPR,EPS,EPU,EPZM,EQBK,EQC,EQFN,EQGP,EQIX,EQL,EQM,EQR,EQS,EQT,EQWL,EQWM,EQWS,ERA,ERC,ERF,ERH,ERI,ERIC,ERIE,ERII,ERJ,ERN,ERO,EROS,ERX,ERY,ERYP,ES,ESBA,ESBK,ESCA,ESE,ESEA,ESES,ESGR,ESIO,ESL,ESLT,ESNC,ESND,ESNT,ESP,ESPR,ESQ,ESRT,ESRX,ESS,ESSA,ESTE,ESTR,ESV,ESXB,ETB,ETE,ETFC,ETG,ETH,ETJ,ETM,ETN,ETO,ETP,ETR,ETSY,ETV,ETW,ETX,ETY,EUFN,EUFX,EUM,EUO,EURN,EUSA,EV,EVA,EVBG,EVBN,EVC,EVEP,EVF,EVFM,EVG,EVGN,EVH,EVHC,EVI,EVJ,EVK,EVLV,EVM,EVN,EVO,EVOK,EVOL,EVP,EVR,EVRI,EVT,EVTC,EVV,EVX,EVY,EW,EWA,EWBC,EWC,EWD,EWEM,EWG,EWH,EWK,EWL,EWMC,EWN,EWO,EWP,EWQ,EWSC,EWV,EWW,EWX,EWY,EWZ,EWZS,EXAS,EXC,EXD,EXEL,EXFO,EXG,EXI,EXK,EXLS,EXP,EXPD,EXPE,EXPO,EXPR,EXR,EXT,EXTN,EXTR,EYE,EYEG,EYEN,EYES,EZA,EZJ,EZM,EZPW,EZU,F,FAB,FAC,FAD,FAF,FAM,FAMI,FAN,FANG,FANH,FARM,FARO,FAS,FAST,FAT,FATE,FAUS,FAX,FB,FBC,FBHS,FBIO,FBIZ,FBK,FBM,FBMS,FBNC,FBNK,FBP,FBR,FBSS,FBT,FBZ,FC,FCA,FCAN,FCAP,FCAU,FCB,FCBC,FCCO,FCCY,FCE.A,FCEL,FCF,FCFS,FCN,FCNCA,FCO,FCPT,FCRE,FCSC,FCT,FCX,FDBC,FDC,FDD,FDEF,FDEU,FDL,FDM,FDN,FDP,FDS,FDT,FDTS,FDUS,FDX,FE,FEDU,FEI,FEIM,FELE,FELP,FEM,FEMS,FEN,FENC,FENG,FEO,FEP,FET,FEU,FEX,FEYE,FEZ,FF,FFA,FFBC,FFBW,FFC,FFG,FFHL,FFIC,FFIN,FFIV,FFKT,FFNW,FFR,FFWM,FG,FGB,FGBI,FGD,FGEN,FGM,FGP,FHB,FHN,FHY,FI,FIBK,FICO,FIF,FII,FILL,FINL,FINU,FIS,FISI,FISK,FISV,FIT,FITB,FIV,FIVE,FIVN,FIW,FIX,FIXX,FIZZ,FJP,FKO,FKU,FL,FLAT,FLC,FLDM,FLEX,FLGT,FLIC,FLIR,FLKS,FLL,FLM,FLN,FLO,FLOT,FLOW,FLR,FLRN,FLS,FLT,FLTR,FLWS,FLXN,FLXS,FLY,FM,FMAO,FMBH,FMBI,FMC,FMI,FMK,FMN,FMNB,FMO,FMS,FMSA,FMX,FMY,FN,FNB,FNBG,FNCB,FND,FNF,FNGN,FNHC,FNI,FNJN,FNK,FNKO,FNLC,FNSR,FNTE,FNV,FNWB,FNX,FNY,FOE,FOF,FOGO,FOIL,FOLD,FOMX,FONE,FONR,FOR,FORD,FORK,FORM,FORR,FORTY,FOSL,FOX,FOXA,FOXF,FPA,FPAY,FPF,FPH,FPI,FPI-B,FPL,FPRX,FPX,FR,FRA,FRAC,FRAK,FRAN,FRBA,FRBK,FRC,FRD,FRED,FRGI,FRI,FRME,FRN,FRO,FRPH,FRPT,FRSH,FRSX,FRT,FRTA,FSAC,FSB,FSBC,FSBW,FSCT,FSD,FSFG,FSI,FSIC,FSLR,FSM,FSNN,FSP,FSS,FSTR,FSV,FSZ,FT,FTA,FTAG,FTAI,FTC,FTCS,FTD,FTEK,FTEO,FTF,FTFT,FTI,FTK,FTNT,FTNW,FTR,FTRI,FTS,FTSI,FTV,FUD,FUE,FUL,FULT,FUN,FUNC,FUND,FUSB,FUV,FVD,FVE,FVL,FWDB,FWDD,FWDI,FWONA,FWONK,FWP,FWRD,FXA,FXB,FXC,FXCH,FXD,FXE,FXF,FXG,FXH,FXI,FXL,FXN,FXO,FXR,FXS,FXU,FXY,FXZ,FYC,FYT,FYX,G,GAB,GABC,GAIA,GAIN,GAL,GALT,GAM,GARS,GASS,GATX,GBAB,GBB,GBCI,GBDC,GBF,GBL,GBLI,GBNK,GBR,GBT,GBX,GCAP,GCBC,GCC,GCE,GCH,GCI,GCO,GCP,GCV,GD,GDDY,GDEN,GDI,GDL,GDO,GDOT,GDP,GDS,GDV,GDX,GE,GEC,GECC,GEF,GEF.B,GEL,GEMP,GEN,GENC,GENE,GEO,GEOS,GER,GERN,GES,GEVO,GF,GFA,GFED,GFF,GFI,GFN,GFY,GG,GGAL,GGB,GGG,GGM,GGN,GGO,GGP,GGT,GGZ,GHC,GHDX,GHG,GHL,GHM,GHY,GIB,GIFI,GIG,GIGM,GII,GIII,GIL,GILD,GILT,GIM,GIS,GKOS,GLAD,GLBS,GLBZ,GLD,GLDD,GLF,GLIBA,GLL,GLMD,GLNG,GLO,GLOB,GLOG,GLOP,GLOW,GLP,GLPG,GLPI,GLQ,GLRE,GLT,GLTR,GLU,GLUU,GLV,GLW,GLYC,GM,GM%2BB,GME,GMED,GMF,GMLP,GMO,GMRE,GMS,GMZ,GNBC,GNC,GNCA,GNE,GNK,GNL,GNMA,GNMK,GNMX,GNPX,GNR,GNRC,GNRT,GNT,GNTX,GNTY,GNUS,GNW,GOF,GOGL,GOGO,GOL,GOLD,GOLF,GOOD,GOOG,GOOGL,GOOS,GORO,GOV,GOVT,GPAQ,GPC,GPI,GPIC,GPK,GPL,GPM,GPMT,GPN,GPOR,GPP,GPRE,GPRK,GPRO,GPS,GPT,GPX,GRA,GRAM,GRBK,GRC,GREK,GRES,GRF,GRFS,GRI,GRID,GRIF,GRMN,GRN,GROW,GRP%3D,GRPN,GRR,GRU,GRUB,GRVY,GRWN,GRX,GS,GSAT,GSB,GSBC,GSBD,GSC,GSG,GSH,GSHT,GSIT,GSK,GSL,GSM,GSP,GSS,GST,GSUM,GSV,GSVC,GSY,GT,GTE,GTES,GTHX,GTIM,GTLS,GTN,GTN.A,GTS,GTT,GTXI,GTY,GTYH,GULF,GUNR,GURE,GURU,GUT,GV,GVA,GVI,GVP,GWB,GWGH,GWPH,GWR,GWRE,GWRS,GWW,GWX,GXC,GXF,GXG,GXP,GYLD,GYRO,GZT,H,HA,HABT,HAE,HAFC,HAIN,HAIR,HAL,HALL,HALO,HAO,HAP,HAS,HASI,HAWK,HAYN,HBAN,HBB,HBCP,HBHC,HBI,HBIO,HBK,HBM,HBMD,HBNC,HBP,HCA,HCAC,HCAP,HCC,HCCI,HCHC,HCI,HCKT,HCLP,HCM,HCOM,HCP,HCSG,HD,HDB,HDG,HDGE,HDNG,HDP,HDS,HDSN,HDV,HE,HEAR,HEB,HEBT,HECO,HEDJ,HEES,HEI,HEI.A,HELE,HEP,HEQ,HES,HESM,HEVY,HF,HFBC,HFBL,HFC,HFWA,HGI,HGSH,HGT,HGV,HHC,HHS,HI,HIBB,HIE,HIFR,HIFS,HIG,HIHO,HII,HIIQ,HIL,HIMX,HIO,HIVE,HIW,HIX,HK,HL,HLF,HLG,HLI,HLIT,HLNE,HLT,HLTH,HLX,HMC,HMG,HMHC,HMI,HMLP,HMN,HMNF,HMNY,HMST,HMSY,HMTA,HMTV,HMY,HNI,HNNA,HNP,HNRG,HNW,HOFT,HOG,HOLI,HOLX,HOMB,HOME,HON,HONE,HOPE,HOS,HOV,HP,HPE,HPF,HPI,HPJ,HPP,HPQ,HPS,HPT,HQCL,HQH,HQL,HQY,HR,HRB,HRC,HRG,HRI,HRL,HRS,HRTG,HRTX,HRZN,HSBC,HSC,HSGX,HSIC,HSII,HSKA,HSON,HST,HSTM,HSY,HT,HTA,HTBI,HTBK,HTBX,HTD,HTGC,HTGM,HTH,HTHT,HTLD,HTLF,HTM,HTY,HTZ,HUBB,HUBG,HUBS,HUD,HUM,HUN,HUNT,HURC,HURN,HUSA,HUSE,HVBC,HVT,HVT.A,HWBK,HWCC,HWKN,HX,HXL,HY,HYAC,HYB,HYD,HYEM,HYG,HYGS,HYH,HYI,HYLD,HYMB,HYS,HYT,HZN,HZNP,HZO,I,IAC,IAE,IAF,IAG,IAI,IAK,IAM,IART,IAT,IAU,IBA,IBB,IBCP,IBIO,IBKC,IBKR,IBM,IBN,IBND,IBOC,IBP,IBTX,ICAD,ICB,ICBK,ICCC,ICCH,ICD,ICE,ICF,ICFI,ICHR,ICI,ICL,ICLK,ICLN,ICLR,ICON,ICPT,ICUI,IDA,IDCC,IDE,IDHQ,IDLV,IDMO,IDN,IDRA,IDSA,IDSY,IDT,IDTI,IDU,IDV,IDX,IDXG,IDXX,IEA,IEC,IEF,IEFA,IEI,IEMG,IEO,IEP,IESC,IEUS,IEV,IEX,IEZ,IF,IFEU,IFF,IFGL,IFMK,IFN,IFON,IFRX,IGA,IGC,IGD,IGE,IGF,IGI,IGLD,IGM,IGN,IGOV,IGR,IGT,IGV,IHC,IHD,IHE,IHF,IHG,IHI,IHIT,IHT,IHY,IID,IIF,III,IIIN,IIJI,IIM,IIN,IIVI,IJH,IJJ,IJK,IJR,IJS,IJT,IKNX,ILF,ILG,ILMN,ILPT,ILTB,IMAX,IMDZ,IMGN,IMH,IMI,IMKTA,IMMP,IMMR,IMMU,IMMY,IMNP,IMO,IMOS,IMPV,IMRN,IMTE,IMUC,INAP,INB,INBK,INCY,INDB,INDU,INDY,INF,INFI,INFN,INFO,INFU,INFY,ING,INGN,INGR,INKM,INN,INNT,INO,INOD,INOV,INP,INPX,INR,INS,INSE,INSG,INSI,INSM,INST,INSW,INSY,INT,INTC,INTG,INTL,INTT,INTU,INTX,INUV,INVA,INVE,INVH,INWK,INXN,INXX,IO,IONS,IOO,IOR,IOSP,IOTS,IOVA,IP,IPAR,IPAS,IPCC,IPCI,IPDN,IPE,IPFF,IPG,IPGP,IPHI,IPHS,IPI,IPIC,IPOA,IPWR,IPXL,IQ,IQI,IQV,IR,IRBT,IRCP,IRDM,IRET,IRIX,IRL,IRM,IRMD,IROQ,IRR,IRS,IRT,IRTC,IRWD,ISBC,ISCA,ISD,ISDR,ISHG,ISIG,ISL,ISNS,ISR,ISRG,ISRL,ISSC,ISTB,ISTR,IT,ITA,ITB,ITCB,ITCI,ITE,ITG,ITGR,ITI,ITIC,ITM,ITOT,ITRI,ITRN,ITT,ITUB,ITUS,ITW,IUSG,IUSV,IVAC,IVC,IVE,IVH,IVOG,IVOO,IVOV,IVR,IVTY,IVV,IVW,IVZ,IWB,IWC,IWD,IWF,IWL,IWM,IWN,IWO,IWP,IWR,IWS,IWV,IWX,IWY,IX,IXC,IXG,IXJ,IXN,IXP,IXUS,IYC,IYE,IYF,IYG,IYH,IYJ,IYK,IYM,IYR,IYT,IYW,IYY,IYZ,IZEA,JACK,JAG,JAGX,JAKK,JASN,JASO,JAX,JAZZ,JBGS,JBHT,JBL,JBLU,JBSS,JBT,JCAP,JCE,JCI,JCO,JCOM,JCP,JCS,JCTCF,JD,JDD,JE,JEC,JELD,JEM,JEMD,JEQ,JFR,JGH,JHA,JHB,JHD,JHG,JHI,JHS,JHX,JHY,JILL,JJA,JJC,JJE,JJG,JJM,JJN,JJP,JJS,JJSF,JJT,JJU,JKD,JKE,JKF,JKG,JKH,JKHY,JKI,JKJ,JKK,JKL,JKS,JLL,JLS,JMBA,JMEI,JMF,JMLP,JMM,JMP,JMT,JMU,JNCE,JNJ,JNK,JNP,JNPR,JO,JOB,JOBS,JOE,JOF,JONE,JOUT,JP,JPC,JPI,JPM,JPS,JPT,JPXN,JQC,JRI,JRJC,JRO,JRS,JRVR,JSD,JSYN,JT,JTA,JTD,JTPY,JVA,JW.A,JW.B,JWN,JXI,JXSB,JYN,JYNT,K,KAAC,KAI,KALA,KALU,KALV,KAMN,KANG,KAR,KB,KBAL,KBE,KBH,KBLM,KBR,KBSF,KBWD,KBWP,KBWR,KBWY,KCAP,KCE,KDMN,KE,KED,KEG,KELYA,KELYB,KEM,KEN,KEP,KEQU,KERX,KEX,KEY,KEYS,KEYW,KF,KFFB,KFRC,KFS,KFY,KGC,KGJI,KHC,KIDS,KIE,KIM,KIN,KINS,KIO,KIQ,KIRK,KKR,KL,KLAC,KLDX,KLIC,KLXI,KMB,KMDA,KMF,KMG,KMI,KMM,KMPH,KMPR,KMT,KMX,KN,KND,KNDI,KNL,KNOP,KNOW,KNSL,KNX,KO,KODK,KOF,KOL,KONA,KONE,KOOL,KOP,KOPN,KORS,KOS,KOSS,KPTI,KR,KRA,KRC,KRE,KREF,KRG,KRNT,KRNY,KRO,KRP,KRYS,KS,KSM,KSS,KST,KSU,KT,KTCC,KTF,KTOS,KTOV,KTWO,KURA,KVHI,KW,KWR,KXI,KYE,KYN,KYO,KZIA,L,LABL,LAC,LACQ,LAD,LADR,LAKE,LAMR,LANC,LAND,LAQ,LARK,LAUR,LAWS,LAYN,LAZ,LB,LBAI,LBC,LBCC,LBIX,LBRDA,LBRDK,LBRT,LBTYA,LBTYB,LBTYK,LBY,LC,LCA,LCI,LCII,LCM,LCNB,LCUT,LD,LDF,LDL,LDOS,LDP,LE,LEA,LECO,LEDD,LEDS,LEE,LEG,LEJU,LEMB,LEN,LEN.B,LENS,LEO,LEU,LEVB,LEXEA,LEXEB,LFC,LFGR,LFIN,LFUS,LFVN,LGC,LGCY,LGF.A,LGF.B,LGI,LGIH,LGL,LGND,LH,LHCG,LHO,LIFE,LII,LILA,LILAK,LINC,LIND,LINK,LINU,LION,LIQT,LITB,LITE,LIVE,LIVN,LIVX,LJPC,LKFN,LKM,LKQ,LKSD,LL,LLEX,LLIT,LLL,LLNW,LLY,LM,LMAT,LMB,LMFA,LMNR,LMNX,LMRK,LMT,LN,LNC,LND,LNDC,LNG,LNN,LNT,LNTH,LOAN,LOB,LOCO,LODE,LOGI,LOGM,LOMA,LONE,LOOP,LOPE,LOR,LORL,LOV,LOW,LOXO,LPCN,LPG,LPI,LPL,LPLA,LPNT,LPSN,LPT,LPTH,LPTX,LPX,LQ,LQD,LQDT,LRAD,LRCX,LRN,LSBK,LSCC,LSI,LSTK,LSTR,LSXMA,LSXMB,LSXMK,LTBR,LTC,LTL,LTM,LTN,LTN%5E,LTPZ,LTRPA,LTRPB,LTRX,LTS,LTXB,LUB,LUK,LULU,LUNA,LUNG,LUV,LVL,LVS,LW,LWAY,LX,LXFR,LXFT,LXP,LXRX,LXU,LYB,LYG,LYL,LYTS,LYV,LZB,M,MA,MAA,MAB,MAC,MACK,MACQ,MAG,MAGS,MAIN,MAMS,MAN,MANH,MANT,MANU,MAR,MARA,MARK,MARPS,MAS,MASI,MAT,MATR,MATW,MATX,MAV,MAXR,MAYS,MB,MBB,MBCN,MBFI,MBG,MBI,MBII,MBIN,MBIO,MBOT,MBRX,MBT,MBTF,MBUU,MBVX,MBWM,MC,MCA,MCB,MCBC,MCC,MCD,MCEP,MCF,MCFT,MCHI,MCHP,MCHX,MCI,MCK,MCN,MCO,MCR,MCRB,MCRI,MCRN,MCRO,MCS,MCY,MD,MDB,MDC,MDCA,MDCO,MDGL,MDGS,MDIV,MDLY,MDLZ,MDP,MDR,MDRX,MDSO,MDT,MDU,MDWD,MDXG,MDY,MDYG,MDYV,MED,MEDP,MEET,MEI,MEIP,MELI,MELR,MEN,MEOH,MERC,MESO,MET,METC,MFA,MFC,MFCB,MFD,MFG,MFGP,MFIN,MFL,MFM,MFNC,MFSF,MFT,MFV,MG,MGA,MGC,MGEE,MGEN,MGF,MGI,MGIC,MGK,MGLN,MGM,MGNX,MGP,MGPI,MGRC,MGU,MGV,MGYR,MHD,MHE,MHF,MHH,MHI,MHK,MHLD,MHN,MHO,MIC,MICR,MICT,MIDD,MIDU,MIE,MIK,MIME,MIN,MIND,MINI,MINT,MITK,MITL,MITT,MIW,MIXT,MIY,MJCO,MKC,MKC.V,MKGI,MKL,MKSI,MKTX,MLAB,MLCO,MLHR,MLI,MLM,MLN,MLNT,MLNX,MLP,MLPA,MLPG,MLPI,MLPS,MLPY,MLR,MLSS,MLVF,MMAC,MMC,MMD,MMDM,MMI,MMLP,MMM,MMP,MMS,MMSI,MMT,MMU,MMV,MMYT,MN,MNA,MNDO,MNE,MNGA,MNI,MNK,MNKD,MNLO,MNOV,MNP,MNR,MNRO,MNST,MNTA,MNTX,MO,MOAT,MOBL,MOC,MOD,MODN,MOFG,MOG.A,MOG.B,MOH,MOM,MOMO,MON,MOO,MORN,MORT,MOS,MOSC,MOSY,MOTS,MOV,MOXC,MPA,MPAA,MPAC,MPB,MPC,MPLX,MPO,MPV,MPVD,MPW,MPWR,MPX,MQT,MQY,MRAM,MRBK,MRC,MRCC,MRCY,MRDN,MRIN,MRK,MRLN,MRNS,MRO,MRSN,MRT,MRTN,MRTX,MRUS,MRVL,MS,MSA,MSB,MSBF,MSBI,MSCC,MSCI,MSD,MSEX,MSF,MSFT,MSG,MSGN,MSI,MSL,MSM,MSN,MSON,MSP,MSTR,MT,MTB,MTBC,MTCH,MTD,MTDR,MTEC,MTEM,MTEX,MTFB,MTG,MTGE,MTH,MTL,MTLS,MTN,MTNB,MTOR,MTP,MTR,MTRN,MTRX,MTSC,MTSI,MTSL,MTT,MTW,MTX,MTZ,MU,MUA,MUB,MUC,MUDS,MUE,MUH,MUI,MUJ,MULE,MUNI,MUR,MUS,MUSA,MUX,MVBF,MVC,MVF,MVIS,MVO,MVT,MVV,MWA,MX,MXC,MXE,MXF,MXI,MXIM,MXL,MXWL,MYC,MYD,MYE,MYF,MYGN,MYI,MYJ,MYL,MYN,MYND,MYO,MYOK,MYOS,MYOV,MYRG,MYSZ,MYY,MZA,MZF,MZOR,NAC,NAD,NAII,NAK,NAKD,NAN,NANO,NAO,NAOV,NAP,NAT,NATH,NATI,NATR,NAUH,NAV,NAVB,NAVG,NAVI,NAZ,NBB,NBD,NBEV,NBH,NBHC,NBIX,NBL,NBLX,NBN,NBO,NBR,NBRV,NBTB,NBW,NBY,NC,NCA,NCB,NCBS,NCI,NCLH,NCMI,NCNA,NCOM,NCR,NCS,NCSM,NCTY,NCV,NCZ,NDAQ,NDLS,NDP,NDRA,NDRO,NDSN,NE,NEA,NEBU,NEE,NEM,NEN,NEO,NEOG,NEON,NEOS,NEP,NEPT,NERV,NES,NESR,NETE,NETS,NEU,NEV,NEWA,NEWM,NEWR,NEWT,NEXA,NEXT,NFBK,NFEC,NFG,NFJ,NFLX,NFO,NFX,NG,NGD,NGG,NGHC,NGL,NGS,NGVC,NGVT,NH,NHA,NHC,NHF,NHI,NHLD,NHS,NHTC,NI,NIB,NICE,NICK,NID,NIE,NIHD,NIM,NINE,NINI,NIQ,NITE,NJR,NJV,NK,NKE,NKG,NKSH,NKTR,NKX,NL,NLNK,NLS,NLSN,NLST,NLY,NM,NMFC,NMI,NMIH,NML,NMM,NMR,NMRD,NMRK,NMS,NMT,NMY,NMZ,NNA,NNBR,NNC,NNDM,NNI,NNN,NNVC,NNY,NOA,NOAH,NOBL,NOC,NODK,NOG,NOK,NOM,NOMD,NORW,NOV,NOVN,NOVT,NOW,NP,NPK,NPN,NPO,NPTN,NPV,NQP,NR,NRCIA,NRCIB,NRE,NRG,NRIM,NRK,NRO,NRP,NRT,NRZ,NS,NSA,NSC,NSEC,NSH,NSIT,NSL,NSM,NSP,NSPR,NSSC,NSTG,NSU,NSYS,NTAP,NTB,NTC,NTCT,NTEC,NTES,NTG,NTGR,NTIC,NTIP,NTLA,NTN,NTNX,NTP,NTR,NTRA,NTRI,NTRP,NTRS,NTWK,NTX,NTZ,NUAN,NUE,NUM,NUO,NURO,NUS,NUV,NUVA,NUW,NVAX,NVCN,NVCR,NVDA,NVEC,NVEE,NVFY,NVG,NVGS,NVIV,NVLN,NVMI,NVMM,NVO,NVR,NVRO,NVS,NVTA,NVTR,NVUS,NWBI,NWE,NWFL,NWHM,NWL,NWLI,NWN,NWPX,NWS,NWSA,NWY,NX,NXC,NXE,NXEO,NXJ,NXN,NXP,NXPI,NXQ,NXR,NXRT,NXST,NXTD,NXTM,NYCB,NYF,NYH,NYLD,NYLD.A,NYMT,NYMX,NYNY,NYRT,NYT,NYV,NZF,O,OA,OAK,OAKS,OAS,OASM,OBAS,OBCI,OBE,OBLN,OBSV,OC,OCC,OCFC,OCIP,OCLR,OCN,OCSI,OCSL,OCUL,OCX,ODC,ODFL,ODP,ODT,OEC,OEF,OESX,OFC,OFED,OFG,OFIX,OFLX,OFS,OGCP,OGE,OGEN,OGS,OHAI,OHGI,OHI,OHRP,OI,OIA,OIBR.C,OIH,OII,OIIM,OIL,OIS,OKE,OKTA,OLBK,OLED,OLEM,OLLI,OLN,OLO,OLP,OMAB,OMAD,OMC,OMCL,OMED,OMER,OMEX,OMF,OMI,OMN,OMNT,OMP,ON,ONB,ONCE,ONCS,ONDK,ONE,ONEQ,ONG,ONP,ONS,ONTX,ONVO,OOMA,OPB,OPBK,OPES,OPGN,OPHC,OPHT,OPK,OPNT,OPOF,OPP,OPTN,OPTT,OPY,OR,ORA,ORAN,ORBC,ORBK,ORC,ORCL,OREX,ORGS,ORI,ORIG,ORIT,ORLY,ORM,ORMP,ORN,ORPN,ORRF,OSB,OSBC,OSG,OSIS,OSK,OSS,OSTK,OSUR,OTEL,OTEX,OTIC,OTIV,OTTR,OTTW,OUT,OVAS,OVBC,OVID,OVLY,OXBR,OXFD,OXLC,OXM,OXSQ,OXY,OZM,OZRK,P,PAA,PAAS,PAC,PACB,PACW,PAF,PAG,PAGG,PAGP,PAGS,PAH,PAHC,PAI,PALL,PAM,PANL,PANW,PAR,PARR,PATI,PATK,PAVM,PAY,PAYC,PAYX,PB,PBA,PBBI,PBCT,PBD,PBE,PBF,PBFX,PBH,PBHC,PBI,PBIB,PBIP,PBJ,PBP,PBPB,PBR,PBR.A,PBS,PBSK,PBT,PBW,PBYI,PCAR,PCEF,PCF,PCG,PCH,PCI,PCK,PCM,PCMI,PCN,PCOM,PCQ,PCRX,PCSB,PCTI,PCTY,PCY,PCYG,PCYO,PDCE,PDCO,PDEX,PDFS,PDI,PDLB,PDLI,PDM,PDN,PDP,PDS,PDT,PDVW,PE,PEB,PEBK,PEBO,PED,PEG,PEGA,PEGI,PEI,PEIX,PEJ,PEK,PEN,PENN,PEO,PEP,PER,PERI,PERY,PES,PESI,PETQ,PETS,PETX,PETZ,PEY,PEZ,PF,PFBC,PFBI,PFD,PFE,PFF,PFG,PFGC,PFI,PFIE,PFIG,PFIN,PFIS,PFL,PFLT,PFM,PFMT,PFN,PFNX,PFO,PFPT,PFS,PFSI,PFSW,PFXF,PG,PGC,PGD,PGEM,PGF,PGH,PGJ,PGLC,PGM,PGNX,PGP,PGR,PGRE,PGTI,PGX,PGZ,PH,PHB,PHD,PHG,PHH,PHI,PHII,PHIIK,PHK,PHM,PHO,PHT,PHX,PHYS,PI,PICB,PICO,PID,PIE,PIH,PII,PIM,PIN,PINC,PIO,PIR,PIRS,PIXY,PIZ,PJC,PJP,PJT,PK,PKB,PKBK,PKD,PKE,PKG,PKI,PKO,PKOH,PKW,PKX,PLAB,PLAY,PLBC,PLCE,PLD,PLG,PLM,PLND,PLNT,PLOW,PLPC,PLSE,PLT,PLUG,PLUS,PLW,PLX,PLXP,PLXS,PLYA,PLYM,PM,PMBC,PMD,PME,PMF,PML,PMM,PMO,PMR,PMT,PMTS,PMX,PNBK,PNC,PNF,PNFP,PNI,PNK,PNM,PNNT,PNQI,PNR,PNRG,PNTR,PNW,PODD,POL,POLA,POLY,POOL,POPE,POR,POST,POWI,POWL,PPA,PPBI,PPC,PPDF,PPG,PPH,PPIH,PPL,PPLT,PPR,PPSI,PPT,PQ,PQG,PRA,PRAA,PRAH,PRAN,PRB,PRCP,PRF,PRFT,PRFZ,PRGO,PRGS,PRGX,PRI,PRIM,PRK,PRKR,PRLB,PRMW,PRN,PRO,PROV,PRPH,PRPL,PRPO,PRQR,PRSC,PRSS,PRTA,PRTK,PRTO,PRTS,PRTY,PRU,PSA,PSAU,PSB,PSCC,PSCD,PSCE,PSCF,PSCH,PSCI,PSCM,PSCT,PSCU,PSDO,PSEC,PSF,PSI,PSJ,PSK,PSL,PSLV,PSMT,PSO,PSP,PSR,PST,PSTG,PSTI,PSX,PSXP,PTC,PTCT,PTEN,PTF,PTGX,PTH,PTI,PTIE,PTLA,PTM,PTN,PTNR,PTR,PTSI,PTX,PTY,PUB,PUI,PUK,PULM,PUMP,PUW,PVAC,PVBC,PVG,PVH,PVI,PW,PWB,PWC,PWOD,PWR,PWV,PWZ,PX,PXD,PXE,PXF,PXH,PXI,PXJ,PXLG,PXLV,PXLW,PXMG,PXMV,PXQ,PXR,PXS,PXSG,PXSV,PYDS,PYN,PYPL,PYZ,PZA,PZC,PZD,PZE,PZG,PZI,PZN,PZT,PZZA,QABA,QADA,QADB,QAI,QBAK,QCLN,QCOM,QCP,QCRH,QD,QDEF,QDEL,QDF,QDYN,QEP,QES,QGEN,QHC,QIWI,QLD,QLTA,QLYS,QMN,QNST,QQEW,QQQ,QQQC,QQQE,QQQX,QQXT,QRHC,QRTEA,QRTEB,QRVO,QSII,QSR,QSY,QTEC,QTM,QTNA,QTNT,QTRH,QTRX,QTS,QTWO,QUAD,QUIK,QUMU,QUOT,QURE,R,RA,RACE,RAD,RADA,RAIL,RALS,RAND,RARE,RARX,RAS,RAVE,RAVI,RAVN,RBA,RBB,RBBN,RBC,RBCAA,RBCN,RBNC,RBS,RCD,RCG,RCI,RCII,RCKT,RCKY,RCL,RCM,RCMT,RCON,RCS,RCUS,RDC,RDCM,RDFN,RDHL,RDI,RDIB,RDN,RDNT,RDS.A,RDS.B,RDUS,RDVT,RDWR,RDY,RE,RECN,REDU,REED,REFR,REG,REGI,REGN,REI,REIS,REK,RELL,RELV,RELX,REN,RENN,RENX,REPH,RES,RESI,RESN,RETA,RETL,RETO,REV,REVG,REX,REXR,REXX,REZ,RF,RFG,RFI,RFIL,RFL,RFP,RFV,RGA,RGCO,RGEN,RGI,RGLD,RGLS,RGNX,RGR,RGS,RGSE,RGT,RH,RHE,RHI,RHP,RHS,RHT,RIBT,RICK,RIF,RIG,RIGL,RILY,RINF,RIO,RIOT,RIV,RJA,RJF,RJI,RJN,RJZ,RKDA,RL,RLGT,RLGY,RLH,RLI,RLJ,RLJE,RLY,RM,RMAX,RMBL,RMBS,RMCF,RMD,RMGN,RMNI,RMP,RMR,RMT,RMTI,RNDB,RNET,RNG,RNGR,RNN,RNP,RNR,RNST,RNWK,ROCK,ROG,ROIC,ROK,ROKU,ROL,ROLA,ROLL,ROM,ROOF,ROP,ROSE,ROSG,ROST,ROX,ROYT,RP,RPAI,RPD,RPG,RPM,RPT,RPV,RPXC,RQI,RRC,RRD,RRGB,RRR,RRTS,RS,RSG,RSLS,RSO,RSP,RSPP,RST,RSX,RSYS,RTEC,RTH,RTIX,RTLA,RTM,RTN,RTRX,RTTR,RUBI,RUN,RUSHA,RUSHB,RUTH,RVEN,RVLT,RVNC,RVP,RVSB,RVT,RWC,RWGE,RWJ,RWK,RWL,RWLK,RWM,RWO,RWR,RWT,RWW,RWX,RXD,RXI,RXII,RXL,RXN,RY,RYAAY,RYAM,RYB,RYE,RYF,RYH,RYI,RYJ,RYN,RYT,RYTM,RYU,RZG,RZV,S,SA,SAA,SABR,SACH,SAEX,SAFE,SAFM,SAFT,SAGE,SAGG,SAH,SAIA,SAIC,SAIL,SAL,SALM,SALT,SAM,SAMG,SAN,SAND,SANM,SANW,SAP,SAR,SASR,SATS,SAUC,SAVE,SB,SBAC,SBBP,SBBX,SBCF,SBFG,SBGI,SBGL,SBH,SBI,SBLK,SBM,SBNY,SBOT,SBOW,SBPH,SBR,SBRA,SBS,SBSI,SBT,SBUX,SBV,SC,SCAC,SCCO,SCD,SCG,SCHA,SCHB,SCHC,SCHD,SCHE,SCHF,SCHG,SCHH,SCHL,SCHM,SCHN,SCHO,SCHP,SCHR,SCHV,SCHW,SCHX,SCHZ,SCI,SCIN,SCJ,SCKT,SCL,SCM,SCO,SCON,SCPH,SCS,SCSC,SCVL,SCWX,SCX,SCYX,SCZ,SD,SDIV,SDLP,SDOG,SDOW,SDP,SDPI,SDR,SDRL,SDT,SDY,SE,SEA,SEAC,SEAS,SEB,SECO,SEDG,SEE,SEED,SEF,SEIC,SEII,SELB,SELF,SEM,SEMG,SEND,SENEA,SENEB,SENS,SEP,SERV,SES,SF,SFBC,SFBS,SFE,SFIX,SFL,SFLA,SFLY,SFM,SFNC,SFS,SFST,SFUN,SGA,SGAR,SGB,SGBX,SGC,SGDM,SGEN,SGF,SGG,SGH,SGLB,SGMA,SGMO,SGMS,SGOC,SGOL,SGRP,SGRY,SGU,SGY,SGYP,SH,SHAK,SHBI,SHEN,SHG,SHI,SHIP,SHLD,SHLM,SHLO,SHLX,SHM,SHO,SHOO,SHOP,SHOS,SHPG,SHSP,SHV,SHW,SHY,SID,SIEB,SIEN,SIF,SIFI,SIFY,SIG,SIGA,SIGI,SIGM,SILC,SILJ,SIM,SIMO,SINA,SINO,SIR,SIRI,SITE,SITO,SIVB,SIVR,SIX,SIZ,SJB,SJI,SJM,SJNK,SJR,SJT,SJW,SKIS,SKM,SKT,SKX,SKY,SKYS,SKYW,SKYY,SLAB,SLB,SLCA,SLCT,SLD,SLDB,SLF,SLG,SLGL,SLGN,SLM,SLNO,SLP,SLRC,SLS,SLV,SLVP,SLX,SLY,SLYG,SLYV,SM,SMB,SMBC,SMBK,SMCI,SMED,SMFG,SMG,SMH,SMHI,SMI,SMIT,SMLP,SMM,SMMF,SMMT,SMMU,SMN,SMP,SMPL,SMRT,SMSI,SMTC,SMTS,SMTX,SN,SNA,SNAP,SNBR,SNCR,SND,SNDE,SNDR,SNDX,SNE,SNES,SNFCA,SNGX,SNH,SNHY,SNLN,SNMP,SNMX,SNN,SNNA,SNOA,SNP,SNPS,SNR,SNSS,SNV,SNX,SNY,SO,SOCL,SODA,SOFO,SOGO,SOHO,SOHU,SOI,SOIL,SOL,SON,SONA,SONC,SOR,SORL,SOXL,SOXX,SOYB,SP,SPA,SPAB,SPAR,SPB,SPCB,SPDW,SPE,SPEM,SPEX,SPFF,SPG,SPGI,SPH,SPHB,SPHD,SPHQ,SPHS,SPI,SPIB,SPIL,SPKE,SPLB,SPLG,SPLK,SPLP,SPLV,SPMD,SPN,SPNE,SPNS,SPOK,SPPI,SPPP,SPR,SPRO,SPRT,SPSB,SPSC,SPTL,SPTM,SPTN,SPTS,SPWH,SPWR,SPXC,SPXL,SPXX,SPY,SPYG,SPYV,SQ,SQBG,SQM,SQNS,SQQQ,SR,SRAX,SRC,SRCE,SRCI,SRCL,SRDX,SRE,SREV,SRF,SRG,SRI,SRLP,SRNE,SRPT,SRRA,SRT,SRTS,SRV,SSB,SSBI,SSC,SSD,SSFN,SSG,SSI,SSKN,SSL,SSLJ,SSNC,SSNT,SSO,SSP,SSRM,SSTI,SSTK,SSW,SSY,SSYS,ST,STAA,STAF,STAG,STAR,STAY,STB,STBA,STBZ,STC,STCN,STDY,STE,STFC,STG,STI,STIP,STK,STKL,STKS,STL,STLD,STLR,STM,STML,STMP,STN,STNG,STNL,STO,STON,STOR,STPP,STPZ,STRA,STRL,STRM,STRS,STRT,STT,STWD,STX,STZ,STZ.B,SU,SUB,SUI,SUM,SUMR,SUN,SUNS,SUNW,SUP,SUPN,SUPV,SUSA,SVA,SVBI,SVM,SVRA,SVT,SVU,SVVC,SVXY,SWCH,SWIR,SWK,SWKS,SWM,SWN,SWX,SWZ,SXC,SXCP,SXE,SXI,SXT,SYBT,SYBX,SYF,SYK,SYKE,SYMC,SYN,SYNA,SYNC,SYNH,SYNL,SYNT,SYPR,SYRS,SYX,SYY,SZC,SZK,SZO,T,TA,TAC,TACO,TACT,TAGS,TAHO,TAIT,TAL,TAN,TANH,TAO,TAP,TAP.A,TARO,TAST,TAT,TATT,TAX,TAYD,TBBK,TBF,TBI,TBK,TBNK,TBPH,TBT,TBX,TCAP,TCBI,TCBK,TCCO,TCF,TCFC,TCI,TCMD,TCO,TCON,TCP,TCPC,TCRD,TCS,TCX,TD,TDC,TDF,TDG,TDIV,TDOC,TDS,TDTF,TDTT,TDW,TDY,TEAM,TECD,TECH,TECK,TECL,TECS,TEDU,TEF,TEGP,TEI,TEL,TELL,TEN,TENX,TEO,TEP,TER,TERP,TESS,TEUM,TEVA,TEX,TFI,TFSL,TFX,TG,TGA,TGB,TGC,TGEN,TGH,TGI,TGLS,TGNA,TGP,TGS,TGT,TGTX,THC,THD,THFF,THG,THM,THO,THQ,THR,THRM,THS,THST,THW,TI,TI.A,TIER,TIF,TIG,TIK,TIL,TILE,TILT,TIP,TIPT,TIPZ,TIS,TISA,TISI,TITN,TIVO,TJX,TK,TKAT,TKC,TKR,TLF,TLGT,TLH,TLI,TLK,TLND,TLP,TLRA,TLRD,TLT,TLTD,TLTE,TLYS,TM,TMF,TMHC,TMK,TMO,TMP,TMQ,TMSR,TMST,TMUS,TMV,TNA,TNAV,TNC,TNDM,TNET,TNK,TNP,TNTR,TNXP,TOCA,TOK,TOL,TOO,TOPS,TORC,TOT,TOUR,TOWN,TOWR,TPB,TPC,TPGE,TPGH,TPH,TPHS,TPIC,TPIV,TPL,TPR,TPRE,TPVG,TPX,TPZ,TQQQ,TR,TRC,TRCB,TRCH,TRCO,TREC,TREE,TREX,TRGP,TRHC,TRI,TRIB,TRIL,TRIP,TRK,TRMB,TRMD,TRMK,TRMT,TRN,TRNC,TRNO,TRNS,TROV,TROW,TROX,TRP,TRPX,TRQ,TRS,TRST,TRT,TRTN,TRTX,TRU,TRUE,TRUP,TRV,TRVG,TRVN,TRX,TRXC,TS,TSBK,TSC,TSCO,TSE,TSEM,TSG,TSI,TSLA,TSLF,TSLX,TSM,TSN,TSQ,TSRI,TSRO,TSS,TST,TSU,TTC,TTD,TTEC,TTEK,TTFS,TTGT,TTI,TTM,TTMI,TTNP,TTOO,TTP,TTPH,TTS,TTWO,TU,TUES,TUP,TUR,TURN,TUSA,TUSK,TUZ,TV,TVPT,TVTY,TWI,TWIN,TWLO,TWMC,TWN,TWNK,TWO,TWOU,TWTR,TWX,TX,TXMD,TXN,TXRH,TXT,TY,TYBS,TYD,TYG,TYHT,TYL,TYME,TYNS,TYO,TYPE,TZA,TZOO,UA,UAA,UAG,UAL,UAMY,UAN,UAVS,UBA,UBC,UBCP,UBFO,UBG,UBM,UBN,UBNK,UBNT,UBOH,UBP,UBS,UBSH,UBSI,UBT,UCBA,UCBI,UCC,UCFC,UCI,UCO,UCTT,UDN,UDOW,UDR,UE,UEC,UEIC,UEPS,UFAB,UFCS,UFI,UFPI,UFPT,UFS,UG,UGA,UGE,UGI,UGL,UGP,UHAL,UHN,UHS,UHT,UIHC,UIS,UJB,UL,ULBI,ULE,ULH,ULTA,ULTI,UMBF,UMC,UMDD,UMH,UMPQ,UMRX,UN,UNAM,UNB,UNF,UNFI,UNG,UNH,UNIT,UNL,UNM,UNP,UNT,UNTY,UNVR,UONE,UONEK,UPL,UPLD,UPRO,UPS,UPV,UPW,UQM,URBN,URE,URG,URGN,URI,URR,URTH,URTY,USA,USAC,USAG,USAK,USAP,USAS,USAT,USAU,USB,USCI,USCR,USD,USDP,USEG,USFD,USG,USL,USLM,USM,USMV,USNA,USO,USPH,USRT,UST,USV,UTF,UTG,UTHR,UTI,UTL,UTMD,UTSI,UTX,UUP,UUU,UUUU,UVE,UVSP,UVV,UWM,UWN,UXI,UYG,UYM,V,VAC,VALE,VALU,VAR,VAW,VB,VBF,VBFC,VBIV,VBK,VBLT,VBR,VBTX,VC,VCEL,VCF,VCIT,VCLT,VCO,VCR,VCRA,VCSH,VCTR,VCV,VCYT,VDC,VDE,VDSI,VDTH,VEA,VEAC,VEC,VECO,VEDL,VEEV,VEGA,VEGI,VEON,VER,VERI,VERU,VET,VEU,VFC,VFH,VFL,VG,VGI,VGIT,VGK,VGLT,VGM,VGR,VGSH,VGT,VGZ,VHC,VHI,VHT,VIA,VIAB,VIAV,VICI,VICL,VICR,VIG,VII,VIIZ,VIOG,VIOO,VIOV,VIPS,VIRC,VIRT,VIS,VISI,VIV,VIVE,VIVO,VIXM,VJET,VKI,VKQ,VKTX,VLGEA,VLO,VLP,VLRS,VLRX,VLT,VLY,VMBS,VMC,VMI,VMM,VMO,VMW,VNCE,VNDA,VNET,VNM,VNO,VNOM,VNQ,VNQI,VNRX,VNTR,VO,VOC,VOD,VOE,VONE,VONG,VONV,VOOG,VOOV,VOT,VOX,VOXX,VOYA,VPG,VPL,VPU,VPV,VQT,VR,VRA,VRAY,VREX,VRML,VRNA,VRNS,VRNT,VRS,VRSK,VRSN,VRTS,VRTU,VRTV,VRTX,VRX,VSAR,VSAT,VSEC,VSH,VSI,VSLR,VSM,VSS,VST,VSTM,VSTO,VT,VTA,VTGN,VTHR,VTI,VTIP,VTL,VTN,VTNR,VTR,VTSI,VTV,VTVT,VTWG,VTWO,VTWV,VUG,VUZI,VV,VVC,VVI,VVPR,VVR,VVUS,VVV,VWO,VXF,VXRT,VXUS,VXZ,VYGR,VYM,VZ,W,WAAS,WAB,WABC,WAFD,WAGE,WAIR,WAL,WASH,WAT,WATT,WB,WBA,WBAI,WBC,WBK,WBS,WBT,WCC,WCFB,WCG,WCN,WD,WDAY,WDC,WDFC,WDR,WEA,WEAT,WEB,WEBK,WEC,WEET,WELL,WEN,WERN,WES,WETF,WEX,WEYS,WF,WFC,WFT,WGL,WGO,WGP,WHD,WHF,WHG,WHLM,WHLR,WHR,WIA,WIFI,WILC,WIN,WINA,WING,WINS,WIP,WIRE,WIT,WIW,WIX,WK,WKHS,WLB,WLDN,WLFC,WLH,WLK,WLKP,WLL,WLTW,WM,WMB,WMC,WMCR,WMGI,WMIH,WMK,WMLP,WMS,WMT,WMW,WNC,WNEB,WNS,WOOD,WOR,WOW,WP,WPC,WPG,WPM,WPP,WPRT,WPS,WPX,WPZ,WR,WRB,WRD,WRE,WREI,WRI,WRK,WRLD,WRLS,WRN,WSBC,WSBF,WSC,WSCI,WSFS,WSM,WSO,WSO.B,WSR,WST,WSTG,WSTL,WTBA,WTFC,WTI,WTM,WTMF,WTR,WTS,WTT,WTTR,WTW,WU,WUBA,WVE,WVFC,WVVI,WWD,WWE,WWR,WWW,WY,WYN,WYNN,WYY,X,XAR,XBI,XBIO,XBIT,XCRA,XEC,XEL,XELA,XELB,XENE,XENT,XES,XFLT,XGTI,XHB,XHE,XHR,XHS,XIN,XL,XLB,XLE,XLF,XLG,XLI,XLK,XLNX,XLP,XLRN,XLU,XLV,XLY,XME,XMPT,XNCR,XNET,XNTK,XOG,XOM,XOMA,XON,XONE,XOP,XOXO,XPER,XPH,XPL,XPLR,XPO,XPP,XRAY,XRF,XRM,XRT,XRX,XSD,XSPA,XSW,XTL,XTLB,XTN,XTNT,XVZ,XXII,XXV,XYL,Y,YANG,YAO,YCL,YCS,YECO,YELP,YEXT,YGE,YGYI,YIN,YINN,YNDX,YOGA,YORW,YPF,YRCW,YRD,YRIV,YTEN,YTRA,YUM,YUMA,YUMC,YXI,YY,Z,ZAGG,ZAIS,ZAYO,ZBH,ZBIO,ZBRA,ZDGE,ZEAL,ZEN,ZEUS,ZF,ZFGN,ZG,ZGNX,ZION,ZIOP,ZIV,ZIXI,ZKIN,ZLAB,ZN,ZNGA,ZNH,ZOES,ZOM,ZROZ,ZS,ZSAN,ZSL,ZTO,ZTR,ZTS,ZUMZ,ZX,ZYME,ZYNE&types=quote&range=1d&last=5
     * @param args
     */


    public static void main(String[] args) {
        IntradayBatchRestClient s = new IntradayBatchRestClient();
        List<StockData> l = s.getIntradayData("AAPL,BP,RDS.A,RDS.B,CNA,GOOG,FB,MSFT");
        l.stream().forEach(System.out::println);
        System.out.println(l.stream().count());

    }
}
